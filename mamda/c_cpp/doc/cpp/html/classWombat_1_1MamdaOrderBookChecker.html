<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenMAMDA C++ API: Wombat::MamdaOrderBookChecker Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceWombat.html">Wombat</a>::<a class="el" href="classWombat_1_1MamdaOrderBookChecker.html">MamdaOrderBookChecker</a></div>
<h1>Wombat::MamdaOrderBookChecker Class Reference</h1><!-- doxytag: class="Wombat::MamdaOrderBookChecker" --><a class="el" href="classWombat_1_1MamdaOrderBookChecker.html">MamdaOrderBookChecker</a> is a class that provides order book sanity checking by periodically requesting snapshots of the order book from the publisher and comparing that with an order book being maintained in real time.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="MamdaOrderBookChecker_8h-source.html">MamdaOrderBookChecker.h</a>&gt;</code>
<p>
<a href="classWombat_1_1MamdaOrderBookChecker-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWombat_1_1MamdaOrderBookChecker.html#f0427cac9cac0835084c247632702863">MamdaOrderBookChecker</a> (const <a class="el" href="classWombat_1_1MamdaOrderBook.html">MamdaOrderBook</a> &amp;realTimeBook, const <a class="el" href="classWombat_1_1MamdaSubscription.html">MamdaSubscription</a> &amp;realTimeSubsc, <a class="el" href="classWombat_1_1MamdaOrderBookListener.html">MamdaOrderBookListener</a> &amp;realTimeListener, <a class="el" href="classWombat_1_1MamdaOrderBookCheckerHandler.html">MamdaOrderBookCheckerHandler</a> *handler, mama_f64_t intervalSeconds)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor for the order book checker.  <a href="#f0427cac9cac0835084c247632702863"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWombat_1_1MamdaOrderBookChecker.html#6e5a49015e8d82944d395d1c242fe32e">MamdaOrderBookChecker</a> (MamaQueue *queue, <a class="el" href="classWombat_1_1MamdaOrderBookCheckerHandler.html">MamdaOrderBookCheckerHandler</a> *handler, MamaSource *source, const char *symbol, mama_f64_t intervalSeconds)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWombat_1_1MamdaOrderBookChecker.html#cc281bbb5f7fa277c30adbb773bfa3b2">~MamdaOrderBookChecker</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#cc281bbb5f7fa277c30adbb773bfa3b2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWombat_1_1MamdaOrderBookChecker.html#c16e5f139b6d15c90f5b22f74d63f1e6">checkSnapShotNow</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform an ad hoc snapshot check now.  <a href="#c16e5f139b6d15c90f5b22f74d63f1e6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">mama_u32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWombat_1_1MamdaOrderBookChecker.html#bec33786f8ed6f0db835f4e4569bdfe6">getSuccessCount</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">mama_u32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWombat_1_1MamdaOrderBookChecker.html#5d7747faefdbf0dd53adc6b1dfae7567">getInconclusiveCount</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of inconclusive counts.  <a href="#5d7747faefdbf0dd53adc6b1dfae7567"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">mama_u32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWombat_1_1MamdaOrderBookChecker.html#66714db80a06cc1c1582e4bdfd1279ba">getFailureCount</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of failed checks.  <a href="#66714db80a06cc1c1582e4bdfd1279ba"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classWombat_1_1MamdaOrderBookChecker.html">MamdaOrderBookChecker</a> is a class that provides order book sanity checking by periodically requesting snapshots of the order book from the publisher and comparing that with an order book being maintained in real time. 
<p>
This class is purely for testing purposes, to test for possible configuration or programming errors in the order book publisher and in MAMDA order book management code.<p>
The developer registers a handler that contains callbacks for successful, inconclusive and failure events. The developer also provides an interval representing the frequency of the snapshot checks. The first check will take place at some random point in time between zero and the interval. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="f0427cac9cac0835084c247632702863"></a><!-- doxytag: member="Wombat::MamdaOrderBookChecker::MamdaOrderBookChecker" ref="f0427cac9cac0835084c247632702863" args="(const MamdaOrderBook &amp;realTimeBook, const MamdaSubscription &amp;realTimeSubsc, MamdaOrderBookListener &amp;realTimeListener, MamdaOrderBookCheckerHandler *handler, mama_f64_t intervalSeconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Wombat::MamdaOrderBookChecker::MamdaOrderBookChecker           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classWombat_1_1MamdaOrderBook.html">MamdaOrderBook</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>realTimeBook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classWombat_1_1MamdaSubscription.html">MamdaSubscription</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>realTimeSubsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWombat_1_1MamdaOrderBookListener.html">MamdaOrderBookListener</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>realTimeListener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWombat_1_1MamdaOrderBookCheckerHandler.html">MamdaOrderBookCheckerHandler</a> *&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mama_f64_t&nbsp;</td>
          <td class="paramname"> <em>intervalSeconds</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor for the order book checker. 
<p>
The caller registers a callback for events related to the checker.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>realTimeBook</em>&nbsp;</td><td>The real time order book to compare against. This param is "const" because we are not supposed to change it, even though it will change underneath us.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>realTimeSubsc</em>&nbsp;</td><td>The <a class="el" href="classWombat_1_1MamdaSubscription.html">MamdaSubscription</a> associated with the realTimeBook. We need it to access the message-level sequence number. This param is "const" because we are not supposed to change it, even though it will change underneath us.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>realTimeListener</em>&nbsp;</td><td>The <a class="el" href="classWombat_1_1MamdaOrderBookListener.html">MamdaOrderBookListener</a> associated with the realTimeBook.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The user-provided callback handler.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>intervalSeconds</em>&nbsp;</td><td>The number of seconds between checks. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6e5a49015e8d82944d395d1c242fe32e"></a><!-- doxytag: member="Wombat::MamdaOrderBookChecker::MamdaOrderBookChecker" ref="6e5a49015e8d82944d395d1c242fe32e" args="(MamaQueue *queue, MamdaOrderBookCheckerHandler *handler, MamaSource *source, const char *symbol, mama_f64_t intervalSeconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Wombat::MamdaOrderBookChecker::MamdaOrderBookChecker           </td>
          <td>(</td>
          <td class="paramtype">MamaQueue *&nbsp;</td>
          <td class="paramname"> <em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWombat_1_1MamdaOrderBookCheckerHandler.html">MamdaOrderBookCheckerHandler</a> *&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MamaSource *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mama_f64_t&nbsp;</td>
          <td class="paramname"> <em>intervalSeconds</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cc281bbb5f7fa277c30adbb773bfa3b2"></a><!-- doxytag: member="Wombat::MamdaOrderBookChecker::~MamdaOrderBookChecker" ref="cc281bbb5f7fa277c30adbb773bfa3b2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Wombat::MamdaOrderBookChecker::~MamdaOrderBookChecker           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="c16e5f139b6d15c90f5b22f74d63f1e6"></a><!-- doxytag: member="Wombat::MamdaOrderBookChecker::checkSnapShotNow" ref="c16e5f139b6d15c90f5b22f74d63f1e6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wombat::MamdaOrderBookChecker::checkSnapShotNow           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform an ad hoc snapshot check now. 
<p>
This may be useful if the checking is to be performed by some external trigger event. 
</div>
</div><p>
<a class="anchor" name="bec33786f8ed6f0db835f4e4569bdfe6"></a><!-- doxytag: member="Wombat::MamdaOrderBookChecker::getSuccessCount" ref="bec33786f8ed6f0db835f4e4569bdfe6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mama_u32_t Wombat::MamdaOrderBookChecker::getSuccessCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Returns:</b></dt><dd>The number of successful checks. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5d7747faefdbf0dd53adc6b1dfae7567"></a><!-- doxytag: member="Wombat::MamdaOrderBookChecker::getInconclusiveCount" ref="5d7747faefdbf0dd53adc6b1dfae7567" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mama_u32_t Wombat::MamdaOrderBookChecker::getInconclusiveCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the number of inconclusive counts. 
<p>
An attempt to check the order book may be inconclusive if the order book sequence numbers do not match up.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The number of inconclusive checks. </dd></dl>

</div>
</div><p>
<a class="anchor" name="66714db80a06cc1c1582e4bdfd1279ba"></a><!-- doxytag: member="Wombat::MamdaOrderBookChecker::getFailureCount" ref="66714db80a06cc1c1582e4bdfd1279ba" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mama_u32_t Wombat::MamdaOrderBookChecker::getFailureCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the number of failed checks. 
<p>
This should be zero, of course.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The number of failed checks. </dd></dl>

</div>
</div><p>
<d<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    $navpath
    <li class="footer">
    <span>&copy; 2014 Linux Foundation</span>
  </ul>
</div>
<!--END GENERATE_TREEVIEW-->
<!--BEGIN !GENERATE_TREEVIEW-->
<hr class="footer"/><address class="footer"><small>
$generatedby &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="$relpath^doxygen.png" alt="doxygen"/>
</a> 1.4.7
</small></address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
